name: CI

on: [push]

jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      - name: composer-normalize-action
        uses: docker://umutphp/php-docker-images-for-ci:7.1
        with:
          entrypoint: /usr/local/bin/composer normalize --dry-run
      - name: PHP Lint
        uses: docker://umutphp/php-docker-images-for-ci:7.1
        with:
          entrypoint: /usr/local/bin/parallel-lint --exclude vendor .
  check:
    runs-on: ubuntu-latest
    steps:
      - name: PHPCodeSniffer
        uses: docker://umutphp/php-docker-images-for-ci:7.1
        with:
          entrypoint: /usr/local/bin/var-dump-check .
